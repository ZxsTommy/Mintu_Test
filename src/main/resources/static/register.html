<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <title>注册</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/pintuer1.2.css">
    <link rel="stylesheet" href="/css/admin.css">
    <script src="/js/axios.js"></script>
    <script src="/js/vue.js"></script>
    <script src="/js/elementui.js"></script>
    <link rel="stylesheet" href="/css/elementui.css"/>
</head>
<body>
<div class="bg"></div>
<div class="container">
    <div class="line bouncein">
        <div class="xs6 xm4 xs3-move xm4-move">
            <div style="height:150px;"></div>
            <div class="media media-y margin-big-bottom"></div>
            <div class="panel loginbox">
                <div class="text-center margin-big padding-big-top">
                    <h1>注册中心</h1>
                </div>
                <div class="panel-body"
                     style="padding:30px; padding-bottom:10px; padding-top:10px;" id="app">
                    <el-form :model="user" :rules="rules" :inline="true">
                        <el-form-item label="账号:" prop="account">
                            <el-input v-model="user.account" autocomplete="off"></el-input>
                        </el-form-item>

                        <el-form-item label="密码:" prop="password">
                            <el-input v-model="user.password" autocomplete="off" type="password"></el-input>
                        </el-form-item>

                        <el-form-item label="姓:" prop="lastName">
                            <el-input v-model="user.lastName" autocomplete="off"></el-input>
                        </el-form-item>

                        <el-form-item label="名:" prop="firstName">
                            <el-input v-model="user.firstName" autocomplete="off"></el-input>
                        </el-form-item>

                        <el-form-item label="邮箱:" prop="email">
                            <el-input v-model="user.email" autocomplete="off"></el-input>
                        </el-form-item>

                        <el-form-item label="生日:" prop="birthday">
                            <el-date-picker
                                    v-model="user.birthday"
                                    type="date"
                                    value-format="yyyy-MM-dd"
                                    placeholder="请选择出生日期">
                            </el-date-picker>
                        </el-form-item>
                    </el-form>

                    <div style="padding:30px;">
                        <div slot="footer" class="dialog-footer">
                            <el-button type="primary" @click="register">注 册</el-button>
                            <el-button @click="login">去 登 录</el-button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<script>
    new Vue({
        el:"#app",
        data:{
            user: {
                account: "",
                password: "",
                firstName: "",
                lastName: "",
                email: "",
                birthday: "",
            }
        },
        methods:{
            register() {
                axios.post("/user/add",this.user).then(r=>{
                    if (r.data.code==200){
                        alert("注册成功，请登录");
                        location.href="login.html";
                    }else if (r.data.code==104){
                        alert("账号已存在");
                    }
                })
            },
            login(){
                location.href = "login.html";
            }
        }
    })
</script>

</body>
</html>